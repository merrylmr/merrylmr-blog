(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{329:function(t,a,e){"use strict";e.r(a);var r=e(14),s=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"开发一个navmenu导航菜单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发一个navmenu导航菜单"}},[t._v("#")]),t._v(" 开发一个NavMenu导航菜单")]),t._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("elementUI的navMenu 路由使用的是js跳转")]),t._v(" "),a("p",[t._v("js跳转不好的地方：")]),t._v(" "),a("ul",[a("li",[t._v("SEO不友好;")]),t._v(" "),a("li",[t._v("如果js代码出错，则导航无法跳转；")])]),t._v(" "),a("p",[t._v("由于项目的需求，horizontal模式下，第一级子菜单宽度自适应且居中。然而elementUI的navMenu第一级子菜单是默认写死居左对齐")]),t._v(" "),a("p",[t._v("对于"),a("strong",[t._v("js跳转")]),t._v("，我能想到的就是内嵌router-link实现；")]),t._v(" "),a("p",[a("strong",[t._v("子菜单居中对齐")]),t._v("：则必须去改element的源码；\n再加上项目原因，需要大量的改element的默认样式。\n综上所述：自己写一个导航组件。")]),t._v(" "),a("h2",{attrs:{id:"原理分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原理分析"}},[t._v("#")]),t._v(" 原理分析：")]),t._v(" "),a("p",[t._v("查看了elementUI的NavMenu源码，实现思路如下：")]),t._v(" "),a("p",[t._v("1.horizontal模式:使用了"),a("a",{attrs:{href:"https://popper.js.org/popper-documentation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("popoverJs"),a("OutboundLink")],1),t._v("\n其实就更我们平时写导航子菜单思路一样")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<ul>\n  <li>\n  <a>1<a>\n   <ul>\n    <li>\n    <a>1-1</a>\n     <ul>...<ul>\n   </li>\n  </ul>\n</li>\n</ul>\n")])])]),a("p",[t._v("重点：如果是第一级子菜单（firstChild），则将其append到body上，对齐方式：'bottom-start（左对齐）';非第一级的子菜单对齐方式则是：start-right")]),t._v(" "),a("p",[t._v("关键代码截图：\n"),a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/11899053-0d658cd3ccce9945.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"是否是第一级子菜单"}}),t._v(" "),a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/11899053-9b9d7e8d71a02d88.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"是否添加到body上"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/11899053-dda1b48b8e38e562.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"子菜单对齐方式"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/11899053-3413c225bfc0a3b1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"子菜单位置方法"}})]),t._v(" "),a("p",[t._v("2.vertical模式：\n这个模式的源码，我就没有仔细查看。因为我们项目不涉及到分组模式，就是简单的子集递归；")]),t._v(" "),a("h2",{attrs:{id:"实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[t._v("#")]),t._v(" 实现")]),t._v(" "),a("p",[t._v("有了以上的技术调研，导航组件的开发也就没有什么难题啦。")]),t._v(" "),a("p",[t._v("结合项目做了一个简单的导航菜单开发，实现了我上面说的功能。效果更elementUI的navMenu差不多。功能没那么强大；可以自己扩展。\n"),a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/11899053-eda448e752d4f8cc.gif?imageMogr2/auto-orient/strip",alt:"效果图"}})]),t._v(" "),a("p",[t._v("结合项目：两种模式分开写的；\n"),a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/11899053-3eb93dbc863e3677.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/11899053-e7dd6d692f9ec98c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:""}})]),t._v(" "),a("p",[t._v("这里的原因只是结合我们项目；对于不同项目需求，可以结合开发项目进行调整。")]),t._v(" "),a("h2",{attrs:{id:"源码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#源码"}},[t._v("#")]),t._v(" 源码")]),t._v(" "),a("p",[t._v("demo地址："),a("a",{attrs:{href:"https://github.com/merrylmr/menu-demo",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/merrylmr/menu-demo"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=s.exports}}]);