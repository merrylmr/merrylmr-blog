(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{318:function(n,t,e){"use strict";e.r(t);var a=e(14),i=Object(a.a)({},(function(){var n=this,t=n._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"百度地图使用总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#百度地图使用总结"}},[n._v("#")]),n._v(" 百度地图使用总结")]),n._v(" "),t("h2",{attrs:{id:"nuxt-项目-ie兼容问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nuxt-项目-ie兼容问题"}},[n._v("#")]),n._v(" nuxt 项目（IE兼容问题）")]),n._v(" "),t("p",[n._v("最好使用全局注册方式")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("第一步：plugins目录下新建 baidu-map.js\n\nimport Vue from 'vue'\nimport BaiduMap from 'vue-baidu-map'\nimport {MAP_AK} from '@/assets/js/const/index'\n\nVue.use(BaiduMap, {\n  ak: MAP_AK\n})\n\n\n第二步.in nuxt.config.js\nplugins:[\n {src: '@/plugins/baidu-map.js', ssr: false},\n]\n")])])]),t("p",[n._v("使用组件方式：在IE下，会有es6语法问题")]),n._v(" "),t("h2",{attrs:{id:"踩坑记录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#踩坑记录"}},[n._v("#")]),n._v(" 踩坑记录")]),n._v(" "),t("ul",[t("li",[n._v("centerAndZoom:undefined")])]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('错误事列：\n\ndata(){\n   return{\n       center:{lat:\'\',lng:\'\'}\n   }\n }\nmounted(){\n   this.center={}\n  }\n正确用法：\n需要在ready方法里面去修改center\n<baidu-map :center="center" :zoom="zoom" @ready="handler"></baidu-map>\nhandler ({BMap, map}) {\n      this.center.lng = 116.404\n      this.center.lat = 39.915\n      this.zoom = 15\n    }\n')])])]),t("ul",[t("li",[n._v("多窗口切换(bm-info-window)")])]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('1.需要注意visible属性，必须是**动态属性**。\nmarker:{\n point:{},\n visible:false,\n window:{}\n}\n2. 需要使用this.markers[index].visible=true 代替 item.visible=true\n        \x3c!--坐标点--\x3e\n      <bm-marker\n            v-for="(item,index) in markerList" \n            :key="index"\n            :position="{lng: item.position[0], lat: item.position[1]}"\n            @click="infoWindowOpen(item,index)" >\n            \x3c!--窗体信息--\x3e\n            <bm-info-window\n              :position="{lng: item.position[0], lat: item.position[1]}"\n              :show="item.visible"\n              :title="item.merchantName">\n              ...\n    </bm-info-window>\n  </bm-marker>\n\n<script>\nexport default {\n  infoWindowOpen(item,index){\n    this.markerList[index].visible = true\n  }\n}\n<\/script>\n')])])]),t("ul",[t("li",[n._v("异步加载")])]),n._v(" "),t("blockquote",[t("p",[n._v("JavaScript API支持异步加载，您可以在引用脚本的时候添加callback参数，当脚本加载完成后callback函数会被立刻调用")])]),n._v(" "),t("p",[n._v("此功能则可以实现："),t("strong",[n._v("按需加载")]),n._v("\n列如：项目提供一个定位功能，用户可以选择开启或者关闭。")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('<!DOCTYPE html>  \n<html>  \n<head>  \n<meta charset="utf-8"/>  \n<title>异步加载</title>  \n<script type="text/javascript">  \nfunction initialize() {  \n  var mp = new BMap.Map(\'map\');  \n  mp.centerAndZoom(new BMap.Point(121.491, 31.233), 11);  \n}  \n   \nfunction loadScript() {  \n  var script = document.createElement("script");  \n  script.src = "http://api.map.baidu.com/api?v=2.0&ak=您的密钥&callback=initialize";\n  document.body.appendChild(script);  \n}  \n   \nwindow.onload = loadScript;  \n<\/script>  \n</head>  \n<body></body>  \n</html> \n')])])])])}),[],!1,null,null,null);t.default=i.exports}}]);